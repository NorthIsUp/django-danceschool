{% extends "cms/admin_home.html" %}
{% load cms_tags %}

{% block content %}

<h2>School Performance Statistics</h2>

<table class="classregsummary table">
<tr>
    <td>Total # Students:</td><td> {{ totalStudents }}</td>
</tr>
<tr>
  <td>Total # Series taught:</td><td> {{ numSeries }} </td>
</tr>
<tr>
  <td>Total # Series Registrations: </td><td> {{ totalSeriesRegs }} </td>
</tr>
<tr>
    <td>Total Time Studio in Existence:</td> <td>{{ totalTime }}</td>
</tr>
</table>

{% static_placeholder 'stats_graphs' %}

<h2>Top Students and Teachers</h2>

<div class="row">
<div class="col-sm-4">
  <table class="table">
    <caption>All Time Top Customers</caption>
  <thead>
    <tr><td>Name</td><td># Classes Taken</td></tr>
  </thead>
  <tbody>
    {% for customer in bestCustomersAllTime %}
    <tr>
      <td>{{ customer.first_name }} {{ customer.last_name}}</td>
      <td>{{ customer.eventregistration__count }}</td>
    </tr>
    {% endfor %}
  </tbody>
  </table>
</div>

<div class="col-sm-4">
  <table class="table">
    <caption>Top Customers of the Last 12 Months</caption>
  <thead>
    <tr><td>Name</td><td># Classes Taken</td></tr>
  </thead>
  <tbody>
    {% for customer in bestCustomersLastTwelveMonths %}
    <tr>
      <td>{{ customer.first_name }} {{ customer.last_name}}</td>
      <td>{{ customer.eventregistration__count }}</td>
    </tr>
    {% endfor %}
  </tbody>
  </table>
</div>

<div class="col-sm-4">
  <table class="table">
    <caption>Most Active Teachers of This Calendar Year</caption>
  <thead>
    <tr><td>Name</td><td># Classes Taught</td></tr>
  </thead>
  <tbody>
    {% for teacher in mostActiveTeachersThisYear %}
    <tr>
      <td>{{ teacher.0 }} {{ teacher.1 }}</td>
      <td>{{ teacher.2 }}</td>
    </tr>
    {% endfor %}
  </tbody>
  </table>
</div>

</div>

<hr />

{% endblock %}